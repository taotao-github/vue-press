# 7、数据库（表）设计 3 范式

## 7.1、第一范式

含义：具有原子性，数据不能在分。也就是一个表中的数据（字段值）不可在分。
不良做法：

<img :src="$withBase('/images/mysql/mysql第一范式不良做法.png')" alt="第一范式不良做法">

修改过后

<img :src="$withBase('/images/mysql/mysql第一范式正确做法.png')" alt="第一范式正确做法">

## 7.2、第二范式
含义：使每一行数据具有唯一性，并消除数据之间的“部分依赖”。实际，有两方面的要求

* 每一行数据具有唯一性：只要给表设置主键，就可以保证唯一性
* 消除数据之间的“部分依赖”
::: tip 提示
* 依赖：就是在一个表中，某个字段的值B可以由另一个字段的值A来“决定”，此时我们就称为：字段B依赖于字段A，或者说是 字段A决定字段B；其意思就是，如果根据字段A的某个值，一定可以找出一个确定的字段B的值，就是A决定B。对于一个有主键的表，这种情况就成了：确定了主键字段的值，则其他字段肯定都确定了，也就是说：主键决定其他字段，其他字段依赖于主键
* 部分依赖：如果某个字段，只依赖于“部分主键字段”，此时就称为“部分依赖”——发生此情况的前提一定是：主键字段有多个！！！
* 完全依赖：就是某个字段，是依赖于“主键的所有字段”——推论：如果一个表的主键只有一个字段，则此时必然是完全依赖。
:::

第二范式（2NF）：唯一性，消除部分依赖：一个表中的每一行必须是唯一可区分，且非主键字段值完全依赖主键字段值。也就是说，必须消除在一个表中的非主键字段值仅仅依赖于部分主键值的情形。显然这个要求只对有联合主键的表才有可能违反情况，而对单字段主键的表是不会出现。
不良做法：

<img :src="$withBase('/images/mysql/mysql第二范式不良做法.png')" alt="第二范式不良做法">

修改过后：

<img :src="$withBase('/images/mysql/mysql第二范式正确做法.png')" alt="第二范式正确做法">

这3个表可以说各自都记录了某种信息，并且一旦确认主键值其他值也必然确定。

## 7.3、第三范式
含义：独立性，消除传递依赖：是每个字段都独立的依赖于主键字段（独立性），而要消除其中非主键字段的内部依赖——这种内部依赖会构成传递依赖

第三范式（3NF）：独立性，消除传递依赖：使一个表中的任何一个非主键，完全独立的依赖于主键，而不能又依赖于另外的非主键。如果一个表中的一个非主键字段B依赖于另一个非主键字段A，因为A作为非主键字段，自然依赖于主键字段，则此时就会出现传递依赖：主键-->A-->B。第三范式就是要消除（避免）这种依赖。通常实际做法中，我们只需要做到“一表存储一种数据”，就可以符合第三范式了


不良做法：

<img :src="$withBase('/images/mysql/mysql第三范式不良做法.png')" alt="第三范式不良做法">

修改过后：

<img :src="$withBase('/images/mysql/mysql第三范式正确做法.png')" alt="第三范式正确做法">